<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>学生信息管理系统</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap"  rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> 
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Noto Sans SC', sans-serif;
        }
 
        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --success: #4cc9f0;
            --danger: #f72585;
            --warning: #f8961e;
            --dark: #1d3557;
            --light: #f8f9fa;
            --gray: #8d99ae;
        }
 
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
        }
 
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
 
        header {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.15);
            position: relative;
            overflow: hidden;
        }
 
        header::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
        }
 
        .header-content {
            position: relative;
            z-index: 2;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
 
        .logo-area {
            display: flex;
            align-items: center;
            gap: 15px;
        }
 
        .logo {
            width: 60px;
            height: 60px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            color: var(--primary);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
 
        h1 {
            font-weight: 700;
            font-size: 2.2rem;
            letter-spacing: 1px;
        }
 
        .date-display {
            background: rgba(255,255,255,0.15);
            padding: 10px 20px;
            border-radius: 50px;
            font-size: 0.9rem;
            backdrop-filter: blur(5px);
            margin-top: 10px;
            display: inline-block;
        }
 
        .app-container {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 25px;
        }
 
        .panel {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            height: fit-content;
        }
 
        .panel:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.15);
        }
 
        .panel-title {
            color: var(--dark);
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--success);
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
 
        .panel-title i {
            color: var(--primary);
        }
 
        .form-group {
            margin-bottom: 20px;
        }
 
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--dark);
            font-weight: 500;
        }
 
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s;
        }
 
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }
 
        .btn {
            padding: 12px 20px;
            border-radius: 10px;
            border: none;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
 
        .btn-primary {
            background: var(--primary);
            color: white;
        }
 
        .btn-success {
            background: var(--success);
            color: white;
        }
 
        .btn-danger {
            background: var(--danger);
            color: white;
        }
 
        .btn-warning {
            background: var(--warning);
            color: white;
        }
 
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        }
 
        .btn-block {
            display: block;
            width: 100%;
        }
 
        .search-options {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
 
        .search-option {
            flex: 1;
            text-align: center;
            padding: 10px;
            border-radius: 10px;
            background: #f1f3f9;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            color: var(--gray);
        }
 
        .search-option.active  {
            background: var(--primary);
            color: white;
        }
 
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
 
        .stat-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            border-left: 4px solid var(--primary);
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
        }
 
        .stat-card h3 {
            font-size: 1.8rem;
            color: var(--primary);
            margin: 5px 0;
        }
 
        .stat-card p {
            color: var(--gray);
            font-size: 0.9rem;
        }
 
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
 
        .results-table th {
            background: var(--primary);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 500;
        }
 
        .results-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e9ecef;
        }
 
        .results-table tr:nth-child(even) {
            background: #f9fafb;
        }
 
        .results-table tr:hover {
            background: #edf2ff;
        }
 
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--success);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 1rem;
        }
 
        .action-buttons {
            display: flex;
            gap: 8px;
        }
 
        .action-btn {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }
 
        .edit-btn {
            background: rgba(76, 201, 240, 0.15);
            color: var(--success);
        }
 
        .delete-btn {
            background: rgba(247, 37, 133, 0.15);
            color: var(--danger);
        }
 
        .action-btn:hover {
            transform: scale(1.1);
        }
 
        .login-container {
            background: white;
            max-width: 450px;
            margin: 50px auto;
            padding: 40px;
            border-radius: 18px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.15);
            text-align: center;
        }
 
        .login-container h2 {
            color: var(--dark);
            margin-bottom: 30px;
            font-size: 1.8rem;
        }
 
        .login-icon {
            font-size: 3.5rem;
            color: var(--primary);
            margin-bottom: 20px;
        }
 
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 10px;
            background: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 12px;
            transform: translateX(120%);
            transition: transform 0.4s ease;
            z-index: 1000;
        }
 
        .notification.show  {
            transform: translateX(0);
        }
 
        .notification.success  {
            border-left: 4px solid var(--success);
        }
 
        .notification.error  {
            border-left: 4px solid var(--danger);
        }
 
        .notification-icon {
            font-size: 1.5rem;
        }
 
        .success .notification-icon {
            color: var(--success);
        }
 
        .error .notification-icon {
            color: var(--danger);
        }
 
        footer {
            text-align: center;
            margin-top: 40px;
            color: var(--gray);
            font-size: 0.9rem;
        }
 
        @media (max-width: 900px) {
            .app-container {
                grid-template-columns: 1fr;
            }
        }
 
        .grade-badge {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }
 
        .badge-excellent {
            background: rgba(76, 201, 240, 0.2);
            color: var(--success);
        }
 
        .badge-good {
            background: rgba(121, 224, 154, 0.2);
            color: #3bb077;
        }
 
        .badge-average {
            background: rgba(248, 150, 30, 0.2);
            color: var(--warning);
        }
 
        .badge-poor {
            background: rgba(247, 37, 133, 0.2);
            color: var(--danger);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="logo-area">
                    <div class="logo">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h1>学生信息管理系统</h1>
                </div>
                <div class="date-display">
                    <i class="fas fa-calendar-alt"></i> 2025年12月6日 星期六 | 农历乙巳蛇年十月十七
                </div>
            </div>
        </header>
 
        <!-- 登录界面 -->
        <div id="loginScreen" class="login-container">
            <div class="login-icon">
                <i class="fas fa-user-graduate"></i>
            </div>
            <h2>学生信息管理系统登录</h2>
            <div class="form-group">
                <input type="text" id="username" class="form-control" placeholder="请输入您的姓名">
            </div>
            <button id="loginBtn" class="btn btn-primary btn-block">
                <i class="fas fa-sign-in-alt"></i> 登录系统 
            </button>
        </div>
 
        <!-- 主应用界面（默认隐藏） -->
        <div id="mainApp" style="display:none;">
            <div class="app-container">
                <div class="left-panel">
                    <div class="panel">
                        <h2 class="panel-title"><i class="fas fa-user-plus"></i> 录入学生信息</h2>
                        <div class="form-group">
                            <label for="studentId">学号</label>
                            <input type="text" id="studentId" class="form-control" placeholder="输入学号">
                        </div>
                        <div class="form-group">
                            <label for="studentName">姓名</label>
                            <input type="text" id="studentName" class="form-control" placeholder="输入姓名">
                        </div>
                        <div class="form-group">
                            <label for="englishScore">英语成绩</label>
                            <input type="number" id="englishScore" class="form-control" placeholder="0-100">
                        </div>
                        <div class="form-group">
                            <label for="mathScore">数学成绩</label>
                            <input type="number" id="mathScore" class="form-control" placeholder="0-100">
                        </div>
                        <button id="addStudentBtn" class="btn btn-primary btn-block">
                            <i class="fas fa-plus-circle"></i> 添加学生记录 
                        </button>
                    </div>
 
                    <div class="panel">
                        <h2 class="panel-title"><i class="fas fa-search"></i> 查询学生信息</h2>
                        <div class="search-options">
                            <div class="search-option active" data-type="id">按学号查询</div>
                            <div class="search-option" data-type="name">按姓名查询</div>
                        </div>
                        <div class="form-group">
                            <input type="text" id="searchInput" class="form-control" placeholder="输入学号进行查询">
                        </div>
                        <button id="searchBtn" class="btn btn-success btn-block">
                            <i class="fas fa-search"></i> 查询学生信息 
                        </button>
                    </div>
 
                    <div class="panel">
                        <h2 class="panel-title"><i class="fas fa-chart-line"></i> 系统统计</h2>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <p><i class="fas fa-users"></i> 学生总数</p>
                                <h3 id="totalStudents">0</h3>
                            </div>
                            <div class="stat-card">
                                <p><i class="fas fa-book-open"></i> 课程数量</p>
                                <h3>2</h3>
                            </div>
                            <div class="stat-card">
                                <p><i class="fas fa-star"></i> 最高总分</p>
                                <h3 id="maxScore">0</h3>
                            </div>
                            <div class="stat-card">
                                <p><i class="fas fa-percentage"></i> 平均总分</p>
                                <h3 id="avgScore">0</h3>
                            </div>
                        </div>
                        <button id="refreshStats" class="btn btn-success btn-block" style="margin-top:20px;">
                            <i class="fas fa-sync-alt"></i> 刷新统计数据 
                        </button>
                    </div>
                </div>
                
                <div class="right-panel">
                    <div class="panel">
                        <div style="display:flex; justify-content:space-between; align-items:center;">
                            <h2 class="panel-title"><i class="fas fa-list"></i> 学生信息列表</h2>
                            <div>
                                <button id="showAllBtn" class="btn btn-primary">
                                    <i class="fas fa-eye"></i> 显示全部 
                                </button>
                            </div>
                        </div>
                        <div style="overflow-x:auto;">
                            <table class="results-table">
                                <thead>
                                    <tr>
                                        <th>学号</th>
                                        <th>姓名</th>
                                        <th>英语</th>
                                        <th>数学</th>
                                        <th>总分</th>
                                        <th>等级</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody id="studentsTableBody">
                                    <!-- 学生数据将通过JavaScript动态加载 -->
                                </tbody>
                            </table>
                        </div>
                    </div>
 
                    <div class="panel">
                        <h2 class="panel-title"><i class="fas fa-user-edit"></i> 管理学生信息</h2>
                        <div style="display:grid; grid-template-columns:1fr 1fr; gap:15px;">
                            <div>
                                <div class="form-group">
                                    <label>输入学号进行操作</label>
                                    <input type="text" id="manageId" class="form-control" placeholder="输入学号">
                                </div>
                            </div>
                            <div style="display:flex; gap:10px; align-items:flex-end;">
                                <button id="deleteBtn" class="btn btn-danger" style="flex:1;">
                                    <i class="fas fa-trash-alt"></i> 删除学生 
                                </button>
                                <button id="updateBtn" class="btn btn-warning" style="flex:1;">
                                    <i class="fas fa-edit"></i> 修改信息 
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
 
        <footer>
            <p>学生信息管理系统 &copy; 2025 | 基于Firebase实时数据库构建</p>
        </footer>
    </div>
 
    <!-- 通知组件 -->
    <div id="notification" class="notification">
        <i class="notification-icon"></i>
        <div class="notification-message">通知内容</div>
    </div>
 
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script> 
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script> 
    
    <script>
        // Firebase配置（根据用户要求包含）
        const firebaseConfig ={
  apiKey: "AIzaSyCAmzgI8HUp1ymldIfOw4n7he84SzYqU0c",
  authDomain: "student-system-d299a.firebaseapp.com",
  databaseURL: "https://student-system-d299a-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "student-system-d299a",
  storageBucket: "student-system-d299a.firebasestorage.app",
  messagingSenderId: "171022113356",
  appId: "1:171022113356:web:ffe808600cf7dc129672e9",
  measurementId: "G-0G5YTJV7D7"
}; 
        // 初始化Firebase 
        firebase.initializeApp(firebaseConfig); 
        const database = firebase.database(); 
        const studentsRef = database.ref('students'); 
 
        // DOM元素 
        const loginScreen = document.getElementById('loginScreen'); 
        const mainApp = document.getElementById('mainApp'); 
        const usernameInput = document.getElementById('username'); 
        const loginBtn = document.getElementById('loginBtn'); 
        const notification = document.getElementById('notification'); 
        
        // 登录功能
        loginBtn.addEventListener('click',  () => {
            const username = usernameInput.value.trim(); 
            if (username) {
                localStorage.setItem('username',  username);
                loginScreen.style.display  = 'none';
                mainApp.style.display  = 'block';
                showNotification(`欢迎回来，${username}！成功登录系统`, 'success');
                loadStudents();
            } else {
                showNotification('请输入您的姓名', 'error');
            }
        });
 
        // 检查是否已有登录信息 
        window.addEventListener('DOMContentLoaded',  () => {
            const savedUsername = localStorage.getItem('username'); 
            if (savedUsername) {
                usernameInput.value  = savedUsername;
                loginBtn.click(); 
            }
        });
 
        // 显示通知 
        function showNotification(message, type) {
            const icon = type === 'success' ? 'fas fa-check-circle' : 'fas fa-exclamation-circle';
            notification.innerHTML  = `<i class="notification-icon ${icon}"></i><div class="notification-message">${message}</div>`;
            notification.className  = `notification ${type} show`;
            
            setTimeout(() => {
                notification.classList.remove('show'); 
            }, 3000);
        }
 
        // 添加学生功能 
        document.getElementById('addStudentBtn').addEventListener('click',  addStudent);
        
        function addStudent() {
            const id = document.getElementById('studentId').value.trim(); 
            const name = document.getElementById('studentName').value.trim(); 
            const english = parseInt(document.getElementById('englishScore').value)  || 0;
            const math = parseInt(document.getElementById('mathScore').value)  || 0;
            const total = english + math;
            
            if (!id || !name) {
                showNotification('学号和姓名不能为空', 'error');
                return;
            }
            
            if (english < 0 || english > 100 || math < 0 || math > 100) {
                showNotification('成绩必须在0-100之间', 'error');
                return;
            }
            
            studentsRef.child(id).set({ 
                id, name, english, math, total
            }).then(() => {
                showNotification(`学生 ${name} (${id}) 添加成功`, 'success');
                clearAddForm();
                loadStudents();
            }).catch(error => {
                showNotification(`添加失败: ${error.message}`,  'error');
            });
        }
        
        function clearAddForm() {
            document.getElementById('studentId').value  = '';
            document.getElementById('studentName').value  = '';
            document.getElementById('englishScore').value  = '';
            document.getElementById('mathScore').value  = '';
        }
 
        // 加载学生数据
        function loadStudents() {
            studentsRef.once('value').then(snapshot  => {
                const students = snapshot.val()  || {};
                renderStudentsTable(students);
                updateStatistics(students);
            });
        }
        
        // 渲染学生表格 
        function renderStudentsTable(students) {
            const tableBody = document.getElementById('studentsTableBody'); 
            tableBody.innerHTML  = '';
            
            Object.keys(students).forEach(key  => {
                const student = students[key];
                const row = document.createElement('tr'); 
                
                // 根据总分确定等级
                let gradeClass, gradeText;
                if (student.total  >= 180) {
                    gradeClass = 'badge-excellent';
                    gradeText = '优秀';
                } else if (student.total  >= 150) {
                    gradeClass = 'badge-good';
                    gradeText = '良好';
                } else if (student.total  >= 120) {
                    gradeClass = 'badge-average';
                    gradeText = '中等';
                } else {
                    gradeClass = 'badge-poor';
                    gradeText = '待提高';
                }
                
                row.innerHTML  = `
                    <td>${student.id}</td> 
                    <td>
                        <div style="display:flex; align-items:center; gap:10px;">
                            <div class="avatar">${student.name.charAt(0)}</div> 
                            ${student.name} 
                        </div>
                    </td>
                    <td>${student.english}</td> 
                    <td>${student.math}</td> 
                    <td><strong>${student.total}</strong></td> 
                    <td><span class="grade-badge ${gradeClass}">${gradeText}</span></td>
                    <td>
                        <div class="action-buttons">
                            <div class="action-btn edit-btn" data-id="${student.id}"> 
                                <i class="fas fa-edit"></i>
                            </div>
                            <div class="action-btn delete-btn" data-id="${student.id}"> 
                                <i class="fas fa-trash-alt"></i>
                            </div>
                        </div>
                    </td>
                `;
                tableBody.appendChild(row); 
            });
            
            // 添加事件监听器到编辑和删除按钮
            document.querySelectorAll('.edit-btn').forEach(btn  => {
                btn.addEventListener('click',  function() {
                    const studentId = this.getAttribute('data-id'); 
                    document.getElementById('manageId').value  = studentId;
                    prepareUpdateForm(studentId);
                });
            });
            
            document.querySelectorAll('.delete-btn').forEach(btn  => {
                btn.addEventListener('click',  function() {
                    const studentId = this.getAttribute('data-id'); 
                    if (confirm(`确定要删除学号为 ${studentId} 的学生吗？`)) {
                        deleteStudent(studentId);
                    }
                });
            });
        }
        
        // 更新统计信息 
        function updateStatistics(students) {
            const studentIds = Object.keys(students); 
            const totalStudents = studentIds.length; 
            
            document.getElementById('totalStudents').textContent  = totalStudents;
            
            if (totalStudents > 0) {
                // 计算最高分和平均分 
                let maxScore = 0;
                let totalScore = 0;
                
                studentIds.forEach(id  => {
                    const score = students[id].total;
                    totalScore += score;
                    if (score > maxScore) maxScore = score;
                });
                
                const avgScore = totalScore / totalStudents;
                
                document.getElementById('maxScore').textContent  = maxScore;
                document.getElementById('avgScore').textContent  = avgScore.toFixed(1); 
            } else {
                document.getElementById('maxScore').textContent  = 0;
                document.getElementById('avgScore').textContent  = 0;
            }
        }
        
        // 查询切换功能 
        const searchOptions = document.querySelectorAll('.search-option'); 
        const searchInput = document.getElementById('searchInput'); 
        
        searchOptions.forEach(option  => {
            option.addEventListener('click',  function() {
                searchOptions.forEach(opt  => opt.classList.remove('active')); 
                this.classList.add('active'); 
                
                const type = this.getAttribute('data-type'); 
                searchInput.placeholder  = type === 'id' ? 
                    '输入学号进行查询' : '输入姓名进行查询';
            });
        });
        
        // 查询学生功能
        document.getElementById('searchBtn').addEventListener('click',  searchStudents);
        
        function searchStudents() {
            const searchType = document.querySelector('.search-option.active').getAttribute('data-type'); 
            const searchValue = searchInput.value.trim().toLowerCase(); 
            
            if (!searchValue) {
                showNotification('请输入查询内容', 'error');
                return;
            }
            
            studentsRef.once('value').then(snapshot  => {
                const students = snapshot.val()  || {};
                const filteredStudents = {};
                
                Object.keys(students).forEach(key  => {
                    const student = students[key];
                    const match = searchType === 'id' ? 
                        student.id.toLowerCase().includes(searchValue)  : 
                        student.name.toLowerCase().includes(searchValue); 
                    
                    if (match) {
                        filteredStudents[key] = student;
                    }
                });
                
                renderStudentsTable(filteredStudents);
                
                if (Object.keys(filteredStudents).length  > 0) {
                    showNotification(`找到${Object.keys(filteredStudents).length} 条匹配的记录`, 'success');
                } else {
                    showNotification('没有找到匹配的学生记录', 'error');
                }
            });
        }
        
        // 显示所有学生 
        document.getElementById('showAllBtn').addEventListener('click',  loadStudents);
        
        // 删除学生功能 
        document.getElementById('deleteBtn').addEventListener('click',  () => {
            const studentId = document.getElementById('manageId').value.trim(); 
            if (studentId) {
                if (confirm(`确定要删除学号为 ${studentId} 的学生吗？`)) {
                    deleteStudent(studentId);
                }
            } else {
                showNotification('请输入学号', 'error');
            }
        });
        
        function deleteStudent(studentId) {
            studentsRef.child(studentId).remove() 
                .then(() => {
                    showNotification(`学号 ${studentId} 的学生已成功删除`, 'success');
                    document.getElementById('manageId').value  = '';
                    loadStudents();
                })
                .catch(error => {
                    showNotification(`删除失败: ${error.message}`,  'error');
                });
        }
        
        // 准备更新表单 
        function prepareUpdateForm(studentId) {
            studentsRef.child(studentId).once('value').then(snapshot  => {
                const student = snapshot.val(); 
                if (student) {
                    document.getElementById('studentId').value  = student.id; 
                    document.getElementById('studentName').value  = student.name; 
                    document.getElementById('englishScore').value  = student.english; 
                    document.getElementById('mathScore').value  = student.math; 
                    
                    // 滚动到添加表单区域 
                    document.querySelector('.left-panel').scrollIntoView({ 
                        behavior: 'smooth'
                    });
                    
                    showNotification(`已加载 ${student.name}  的信息，请修改后点击添加按钮更新`, 'success');
                }
            });
        }
        
        // 刷新统计数据 
        document.getElementById('refreshStats').addEventListener('click',  () => {
            studentsRef.once('value').then(snapshot  => {
                const students = snapshot.val()  || {};
                updateStatistics(students);
                showNotification('统计数据已刷新', 'success');
            });
        });
    </script>
</body>
</html>